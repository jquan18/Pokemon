-- Create the database if it doesn't exist
CREATE DATABASE IF NOT EXISTS pokemon_game;

-- Use the created database
USE pokemon_game;

-- Create the users table
CREATE TABLE IF NOT EXISTS users (
    username VARCHAR(50) PRIMARY KEY,
    password VARCHAR(50) NOT NULL
);

-- Create the game_saves table
CREATE TABLE IF NOT EXISTS game_saves (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50),
    slot INT,
    location VARCHAR(50),
    UNIQUE (username, slot),
    FOREIGN KEY (username) REFERENCES users(username) ON DELETE CASCADE
);

-- Create the pokemon table
CREATE TABLE pokemon (
    id INT AUTO_INCREMENT PRIMARY KEY,
    save_id INT,
    slot INT,
    name VARCHAR(255),
    type VARCHAR(255),
    hp INT,
    maxHP INT,
    attack INT,
    defense INT,
    speed INT,
    quickMoveName VARCHAR(255),
    quickMoveType VARCHAR(255),
    quickMoveDamage INT,
    quickMovePoints INT,
    mainMoveName VARCHAR(255),
    mainMoveType VARCHAR(255),
    mainMoveDamage INT,
    mainMovePoints INT,
    UNIQUE (save_id, slot),
    FOREIGN KEY (save_id) REFERENCES game_saves(id) ON DELETE CASCADE
);

CREATE TABLE badges (
    save_id INT,
    badge_name VARCHAR(255),
    PRIMARY KEY (save_id, badge_name),
    FOREIGN KEY (save_id) REFERENCES game_saves(id)
);


